import{a as g,d as b,U as V,r as x,e as n,A as q,o as y,i as s,h as r,j as w,V as v}from"./index-B9Da-5fK.js";const U={__name:"resetPwd",setup(C){const i=g(),{proxy:p}=b(),o=V({password:"",new_password:"",new_password_confirmation:""}),m=x({password:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],new_password:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"},{pattern:/^[^<>"'|\\]+$/,message:`不能包含非法字符：< > " ' \\ |`,trigger:"blur"}],new_password_confirmation:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:(d,e,a)=>{o.new_password!==e?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}]});function _(){p.$refs.pwdRef.validate(d=>{d&&v(o).then(e=>{p.$modal.msgSuccess("修改成功")})})}function f(){i.back()}return(d,e)=>{const a=n("el-input"),l=n("el-form-item"),u=n("el-button"),c=n("el-form");return y(),q(c,{ref:"pwdRef",model:o,rules:m.value,"label-width":"80px"},{default:s(()=>[r(l,{label:"旧密码",prop:"password"},{default:s(()=>[r(a,{modelValue:o.password,"onUpdate:modelValue":e[0]||(e[0]=t=>o.password=t),placeholder:"请输入旧密码",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),r(l,{label:"新密码",prop:"new_password"},{default:s(()=>[r(a,{modelValue:o.new_password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.new_password=t),placeholder:"请输入新密码",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),r(l,{label:"确认密码",prop:"new_password_confirmation"},{default:s(()=>[r(a,{modelValue:o.new_password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=t=>o.new_password_confirmation=t),placeholder:"请确认新密码",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),r(l,null,{default:s(()=>[r(u,{type:"primary",onClick:_},{default:s(()=>e[3]||(e[3]=[w("保存")])),_:1,__:[3]}),r(u,{onClick:f},{default:s(()=>e[4]||(e[4]=[w("关闭")])),_:1,__:[4]})]),_:1})]),_:1},8,["model","rules"])}}};export{U as default};
