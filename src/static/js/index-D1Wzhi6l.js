import{_ as q,d as O,u as U,a as G,r as p,e as s,D as x,c as m,o as r,f as d,E as A,h as o,A as V,i as a,j as i,p as n,F as H,v as J,x as K,t as u}from"./index-B9Da-5fK.js";import{a as M}from"./epartmene-C8oc6t7Y.js";const Q={class:"aside-bar"},W={class:"aside-content"},X={class:"search-bar"},Y={class:"elder-list hide-scrollbar"},Z=["onClick"],ee={class:"primary"},te={class:"pagination"},oe={class:"total"},ae={class:"pager"},se={class:"page"},ne={__name:"index",setup(le){const{proxy:de}=O(),z=U(),k=G(),e=p({keyword:"",page:1,per_page:20}),v=p(0),g=p([]),f=p(!1),C=p(-1),c=async()=>{f.value=!0;const l=await M(e.value);f.value=!1,g.value=l.data.data,v.value=l.data.total};c();const D=(l,t)=>{k.push(`${z.path}?type=get&id=${l.id}`),C.value=t},P=()=>{e.value.page>1&&(e.value.page--,c())},B=()=>{e.value.page*e.value.per_page<v.value&&(e.value.page++,c())},E=l=>{e.value.per_page=parseInt(l),e.value.page=1,c()},I=()=>{k.push(`/system/user?type=add&t=${Date.now()}`)};return(l,t)=>{const h=s("el-button"),L=s("el-input"),N=s("el-empty"),R=s("ArrowLeft"),b=s("el-icon"),$=s("ArrowRight"),w=s("el-dropdown-item"),F=s("el-dropdown-menu"),S=s("el-dropdown"),T=x("hasPermi"),j=x("loading");return r(),m("div",Q,[d("div",W,[d("div",X,[A((r(),V(h,{type:"primary",icon:"plus",plain:"",class:"add-btn",onClick:I},{default:a(()=>t[1]||(t[1]=[i("新增用户")])),_:1,__:[1]})),[[T,["POST.site_admin"]]]),o(L,{modelValue:n(e).keyword,"onUpdate:modelValue":t[0]||(t[0]=_=>n(e).keyword=_),placeholder:"请输入科室名称搜索"},{append:a(()=>[o(h,{icon:"search",onClick:c})]),_:1},8,["modelValue"])]),A((r(),m("div",Y,[n(g).length>0?(r(!0),m(H,{key:0},J(n(g),(_,y)=>(r(),m("div",{class:K(["elder-item",{active:n(C)==y}]),key:y,onClick:re=>D(_,y)},[i(u(_.name)+" ",1),d("span",ee,"("+u(_.admin_count)+")",1)],10,Z))),128)):(r(),V(N,{key:1,"image-size":50,description:"暂无数据"}))])),[[j,n(f)]]),d("div",te,[d("div",oe,"共"+u(n(v))+"条",1),d("div",ae,[o(b,{size:"8",onClick:P},{default:a(()=>[o(R)]),_:1}),d("div",se,u(n(e).page),1),o(b,{size:"8",onClick:B},{default:a(()=>[o($)]),_:1})]),o(S,{placement:"top-start",onCommand:E},{dropdown:a(()=>[o(F,null,{default:a(()=>[o(w,{command:"20"},{default:a(()=>t[2]||(t[2]=[i("20条/页")])),_:1,__:[2]}),o(w,{command:"50"},{default:a(()=>t[3]||(t[3]=[i("50条/页")])),_:1,__:[3]}),o(w,{command:"100"},{default:a(()=>t[4]||(t[4]=[i("100条/页")])),_:1,__:[4]})]),_:1})]),default:a(()=>[o(h,{size:"small",class:"siges"},{default:a(()=>[i(u(n(e).per_page)+"条/页 ",1)]),_:1})]),_:1})])])])}}},_e=q(ne,[["__scopeId","data-v-e2b5ddbe"]]);export{_e as default};
